script: |
  set -e

  echo "==== DEBUG: Checking temp folder ===="
  ls -lah /home/ubuntu/campustalk-deploy-temp || true

  echo "==== DEBUG: Checking backend jar ===="
  ls -lah /home/ubuntu/campustalk-deploy-temp/*.jar || true

  echo "==== DEBUG: Checking backend directory ===="
  ls -lah /opt/campustalk/backend || true

  echo "==== DEBUG: Checking frontend target ===="
  ls -lah /var/www/campustalk || true

  echo "==== DEBUG COMPLETE ===="

  echo "ðŸ”¹ Moving backend JAR..."
  sudo mv /home/ubuntu/campustalk-deploy-temp/campustalk-backend.jar /opt/campustalk/backend/campustalk-backend.jar
  sudo chown ubuntu:ubuntu /opt/campustalk/backend/campustalk-backend.jar

  echo "ðŸ”¹ Restarting Backend (systemd)..."
  sudo systemctl daemon-reload
  sudo systemctl restart campustalk-backend.service
  sudo systemctl status campustalk-backend.service --no-pager -l

  echo "ðŸ”¹ Deploying Frontend..."
  sudo rm -rf /var/www/campustalk/*
  sudo cp -r /home/ubuntu/campustalk-deploy-temp/* /var/www/campustalk/
  sudo chown -R www-data:www-data /var/www/campustalk

  echo "ðŸ”¹ Reloading Nginx..."
  sudo systemctl reload nginx

  echo "ðŸŽ‰ Deployment completed successfully!"
